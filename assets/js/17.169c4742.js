(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{693:function(t,i,e){},793:function(t,i,e){"use strict";e(693)},812:function(t,i,e){"use strict";e.r(i);e(380);var n={data:function(){return{audio:"",audioFile:"",imgLoaded:!1,currentlyPlaying:!1,isPlaylistActive:!1,modeIndex:0,currentSong:0,currentTime:0,trackDuration:0,currentProgressBar:0,checkingCurrentPositionInTrack:"",musicPlaylist:[{title:"Bluish Light",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1941658812.mp3",image:"https://web.hycdn.cn/siren/pic/20220503/6fbb2ddca4efb6bb4ff4ead791fb447e.jpg"},{title:"Rapier",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1941656969.mp3",image:"https://web.hycdn.cn/siren/pic/20220502/b08a1ada5fa2a6937ae6c1208a40cb93.jpg"},{title:"March On!",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1936324213.mp3",image:"https://web.hycdn.cn/siren/pic/20220413/784addeeb3f6bd9cd001e3021f3483da.jpg"},{title:"Eternal Flame",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1927441611.mp3",image:"https://web.hycdn.cn/siren/pic/20220314/a79347b6d2e3a57874b552699ce9ee2c.jpg"},{title:"Radiant",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1890402858.mp3",image:"https://web.hycdn.cn/siren/pic/20211101/733831c7d034b83dc78f783f8748cc65.jpg"},{title:"Towards Her Light",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1876956006.mp3",image:"https://web.hycdn.cn/siren/pic/20210916/113f508e9ca2f66642cbb85e7a4699be.jpg"},{title:"Immutable",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1840976599.mp3",image:"https://web.hycdn.cn/siren/pic/20210501/01bdad2a0a6876eaee3c23bf0812a73a.png"},{title:"Stay Gold",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1488275299.mp3",image:"https://web.hycdn.cn/siren/pic/20210322/430cb5399e272d97779cf5f13681628f.jpg"},{title:"Lullabye",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1491503292.mp3",image:"https://web.hycdn.cn/siren/pic/20210322/5fb9a7a5d2045c5c6a16f2c4ed8e08f4.jpg"},{title:"Alive",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1473615924.mp3",image:"https://web.hycdn.cn/siren/pic/20210322/7d9ab6167720f8f4b982c83fbe89ce0b.jpg"},{title:"Evolutionary Mechanization",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1473615377.mp3",image:"https://web.hycdn.cn/siren/pic/20210322/80c0cbb9bec652d21e939586e19aa9ed.jpg"},{title:"Everything's Alright",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1460626792.mp3",image:"https://web.hycdn.cn/siren/pic/20210322/fe18ca43cbf7e7fc3541081d7a62ccef.jpg"},{title:"Requiem",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1444493780.mp3",image:"https://web.hycdn.cn/siren/pic/20210322/14db9942c28a5abba48b9dfe2d99e39a.jpg"},{title:"Renegade",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1444493657.mp3",image:"https://web.hycdn.cn/siren/pic/20210322/40a13076601806e37c5394049cebc5b1.jpg"},{title:"故乡的风",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1431593851.mp3",image:"https://web.hycdn.cn/siren/pic/20210322/c755e05031749ec0d7422078ae3189e7.jpg"},{title:"独行长路",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1427681638.mp3",image:"https://web.hycdn.cn/siren/pic/20210727/d01c9b65184c11ed6fe7b1019a023b16.jpg"},{title:"Speed of Light",artist:"塞壬唱片-MSR",url:"http://music.163.com/song/media/outer/url?id=1403774122.mp3",image:"https://web.hycdn.cn/siren/pic/20210322/56cbcd1d0093d8ee8ee22bf6d68ab4a6.jpg"}],Mode:[{title:"顺序播放/Order Play",icon:"ri-order-play-fill"},{title:"随机播放/Shuffle Play",icon:"ri-shuffle-fill"},{title:"单曲循环/Single Cycle",icon:"ri-repeat-one-fill"}]}},mounted:function(){this.changeSong(this.currentSong,!1),this.audio.loop=!1},filters:{fancyTimeFormat:function(t){return(t-(t%=60))/60+(9<t?":":":0")+t}},methods:{nextMode:function(){this.modeIndex=(this.modeIndex+1)%this.Mode.length},nextIndex:function(){switch(this.modeIndex){case 0:this.currentSong=(this.currentSong+1)%this.musicPlaylist.length;break;case 1:this.currentSong=Math.floor(Math.random()*this.musicPlaylist.length)}return this.currentSong},prevIndex:function(){switch(this.modeIndex){case 0:this.currentSong=(this.currentSong-1+this.musicPlaylist.length)%this.musicPlaylist.length;break;case 1:this.currentSong=Math.floor(Math.random()*this.musicPlaylist.length)}return this.currentSong},nextSong:function(){this.changeSong(this.nextIndex())},prevSong:function(){this.changeSong(this.prevIndex())},changeSong:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=this.currentlyPlaying;this.imageLoaded=!1,1==i&&this.stopAudio(),this.currentSong=t,this.audioFile=this.musicPlaylist[this.currentSong].url,this.audio=new Audio(this.audioFile);var n=this;this.audio.addEventListener("loadedmetadata",(function(){n.trackDuration=Math.round(this.duration)})),this.audio.addEventListener("ended",this.handleEnded),e&&this.playPauseAudio()},isCurrentSong:function(t){return this.currentSong==t},getCurrentSong:function(t){return this.musicPlaylist[t].url},playPauseAudio:function(){this.currentlyPlaying?this.stopAudio():this.playAudio()},playAudio:function(){this.getCurrentTimeEverySecond(),this.currentlyPlaying=!0,this.audio.play()},stopAudio:function(){this.audio.pause(),this.currentlyPlaying=!1,clearTimeout(this.checkingCurrentPositionInTrack)},handleEnded:function(){this.changeSong(this.nextIndex())},onImageLoaded:function(){this.imgLoaded=!0},getCurrentTimeEverySecond:function(){var t=this;this.checkingCurrentPositionInTrack=setTimeout((function(){t.currentTime=t.audio.currentTime,t.currentProgressBar=t.audio.currentTime/t.trackDuration*100,t.getCurrentTimeEverySecond()}),1e3)},clickProgress:function(t){1==this.currentlyPlaying&&this.stopAudio(),this.updateBar(t.pageX)},updateBar:function(t){var i=this.$refs.progress,e=this.audio.duration,n=100*(t-i.getBoundingClientRect().left)/i.offsetWidth;n>100&&(n=100),n<0&&(n=0),this.audio.currentTime=e*n/100,this.currentTime=this.audio.currentTime,this.currentProgressBar=this.currentTime/this.trackDuration*100,this.playPauseAudio()}},watch:{currentTime:function(){this.currentTime=Math.round(this.currentTime)}},beforeDestroy:function(){this.audio.removeEventListener("ended",this.handleEnded),this.audio.removeEventListener("loadedmetadata",this.handleEnded),clearTimeout(this.checkingCurrentPositionInTrack)}},s=(e(793),e(36)),a=Object(s.a)(n,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"audioPlayer"},[e("a",{staticClass:"nav-icon",class:{isActive:t.isPlaylistActive},attrs:{title:"Music List"},on:{click:function(i){t.isPlaylistActive=!t.isPlaylistActive}}},[e("span"),t._v(" "),e("span"),t._v(" "),e("span")]),t._v(" "),e("div",{staticClass:"audioPlayerList",class:{isActive:t.isPlaylistActive}},t._l(t.musicPlaylist,(function(i,n){return e("div",{key:n,staticClass:"item",class:{isActive:t.isCurrentSong(n)},on:{click:function(i){t.changeSong(n),t.isPlaylistActive=!t.isPlaylistActive}}},[e("p",{staticClass:"title"},[t._v(t._s(i.title))]),t._v(" "),e("p",{staticClass:"artist"},[t._v(t._s(i.artist))])])})),0),t._v(" "),e("div",{staticClass:"audioPlayerUI",class:{isDisabled:t.isPlaylistActive}},[e("div",{staticClass:"albumImage"},[e("transition",{attrs:{name:"fade",mode:"out-in",type:"transition",appear:""}},[e("div",{key:t.currentSong,class:["disc-back",t.currentlyPlaying?"":"paused"]},[e("img",{staticClass:"disc",attrs:{src:t.$withBase("/img/disc.png"),ondragstart:"return false;"},on:{load:function(i){return t.onImageLoaded()}}}),t._v(" "),e("img",{staticClass:"poster",attrs:{src:t.musicPlaylist[t.currentSong].image,ondragstart:"return false;"},on:{load:function(i){return t.onImageLoaded()}}})])])],1),t._v(" "),e("div",{staticClass:"albumDetails"},[e("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[e("p",{key:t.currentSong,staticClass:"title"},[t._v(t._s(t.musicPlaylist[t.currentSong].title))])]),t._v(" "),e("transition",{attrs:{name:"slide-fade",mode:"out-in",appear:""}},[e("p",{key:t.currentSong,staticClass:"artist"},[t._v(t._s(t.musicPlaylist[t.currentSong].artist))])]),t._v(" "),e("transition",{attrs:{name:"slide-fade",mode:"out-in",type:"transition",appear:""}},[e("div",{key:t.currentSong,staticClass:"page-container"},[e("div",{class:["wave-container",t.currentlyPlaying?"":"paused"]},t._l(20,(function(t){return e("div",{key:t,staticClass:"wave-bar"})})),0)])])],1),t._v(" "),e("div",{staticClass:"playerButtons"},[e("a",{staticClass:"button",attrs:{title:"Previous Song"},on:{click:function(i){return t.prevSong()}}},[e("v-icon",{staticClass:"icon",attrs:{name:"bi-skip-start-fill",scale:"2"}})],1),t._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[e("a",{key:t.currentSong+t.currentlyPlaying,staticClass:"button play",attrs:{title:"Play/Pause Song"},on:{click:function(i){return t.playPauseAudio()}}},[e("v-icon",{key:1,staticClass:"icon",attrs:{name:t.currentlyPlaying?"hi-solid-pause":"bi-play-circle-fill",scale:"2",fill:"red"}})],1)]),t._v(" "),e("a",{staticClass:"button",attrs:{title:"Next Song"},on:{click:function(i){return t.nextSong()}}},[e("v-icon",{staticClass:"icon",attrs:{name:"bi-skip-end-fill",scale:"2"}})],1),t._v(" "),e("transition",{attrs:{name:"mode-slide-fade",mode:"out-in"}},[e("a",{key:t.modeIndex,staticClass:"button",attrs:{id:"mode",title:t.Mode[t.modeIndex].title},on:{click:function(i){return t.nextMode()}}},[e("v-icon",{staticClass:"icon",attrs:{name:t.Mode[t.modeIndex].icon,scale:"1.2"}})],1)])],1),t._v(" "),e("div",{staticClass:"timeAndProgress"},[e("div",{staticClass:"currentTimeContainer"},[e("span",{staticClass:"currentTime"},[t._v(t._s(t._f("fancyTimeFormat")(t.currentTime)))]),t._v(" "),e("span",{staticClass:"totalTime"},[t._v(" "+t._s(t._f("fancyTimeFormat")(t.trackDuration)))])]),t._v(" "),e("div",{ref:"progress",staticClass:"currentProgressBar",on:{click:t.clickProgress}},[e("div",{staticClass:"currentProgress",style:{width:t.currentProgressBar+"%"}})])])])])}),[],!1,null,"41a64d58",null);i.default=a.exports}}]);