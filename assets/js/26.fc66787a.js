(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{816:function(t,s,a){"use strict";a.r(s);var e=a(36),v=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"准备好环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备好环境"}},[t._v("#")]),t._v(" 准备好环境")]),t._v(" "),a("p",[t._v("每完成一步就去掉一个标签吧~\n"),a("TagsOfEnvironment")],1),t._v(" "),a("h3",{attrs:{id:"博客源代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#博客源代码"}},[t._v("#")]),t._v(" 博客源代码")]),t._v(" "),a("p",[t._v("可以从 Github 上下载我的"),a("a",{attrs:{href:"https://github.com/C01day/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("博客源代码")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"vscode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vscode"}},[t._v("#")]),t._v(" VSCode")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("VSCode")]),t._v(" 是一个我用的比较顺手的编辑器。")]),t._v(" "),a("h3",{attrs:{id:"node-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js"}},[t._v("#")]),t._v(" Node.js")]),t._v(" "),a("p",[t._v("怎么少得了 "),a("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js")]),t._v(" 语言呢？")]),t._v(" "),a("p",[t._v("请在安装后检查有无"),a("code",[t._v("npm")]),t._v("命令，若没有则需要将"),a("code",[t._v("nodejs/")]),t._v("路径添加到环境变量中。")]),t._v(" "),a("h3",{attrs:{id:"github-账号和仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-账号和仓库"}},[t._v("#")]),t._v(" Github 账号和仓库")]),t._v(" "),a("p",[t._v("部署要用到 Github pages 或 Vercel ，我们将代码文件放在 Github 上。因此需要创建一个账号，并新建一个项目仓库(repositories)用来存储项目文件，名字建议为"),a("code",[t._v("<USERNAME>.github.io")]),t._v("，"),a("code",[t._v("<USERNAME>")]),t._v("为你的 Github 用户名，这样能免去设置"),a("code",[t._v("Base")]),t._v("的麻烦。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("README.md文件建议勾上")])]),t._v(" "),a("h3",{attrs:{id:"git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git"}},[t._v("#")]),t._v(" Git")]),t._v(" "),a("p",[t._v("要将文件上传到 Github ，需要用到 "),a("a",{attrs:{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git")]),t._v(" 版本控制工具。")]),t._v(" "),a("h4",{attrs:{id:"配置用户名和邮箱"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置用户名和邮箱"}},[t._v("#")]),t._v(" 配置用户名和邮箱")]),t._v(" "),a("p",[t._v("打开 Git 文件夹下的 Git Bash ，配置用户名和邮箱")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.name "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your username"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.email "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your email"')]),t._v("\n")])])]),a("p",[t._v("检查终端有无"),a("code",[t._v("git")]),t._v("命令，若没有则需要将"),a("code",[t._v("Git/bin/")]),t._v("路径添加到环境变量中。")]),t._v(" "),a("h4",{attrs:{id:"配置-ssh-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-ssh-key"}},[t._v("#")]),t._v(" 配置 SSH key")]),t._v(" "),a("p",[t._v("第一次使用 Git 需要配置SSH密钥，来获得读取远程仓库的权限，详细的方法可以参考官网提供的"),a("a",{attrs:{href:"https://docs.github.com/cn/github/authenticating-to-github/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent",target:"_blank",rel:"noopener noreferrer"}},[t._v("生成SSH密钥教程")]),t._v("。")]),t._v(" "),a("p",[t._v("依然打开 Git Bash ，输入命令")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("ssh-keygen -t rsa -C "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"youremail@example.com"')]),t._v("\n")])])]),a("p",[t._v("一直回车，使用默认路径即可。")]),t._v(" "),a("p",[t._v("之后在"),a("code",[t._v("C:\\Users\\主机名\\.ssh")]),t._v("路径下会有"),a("code",[t._v("id_rsa")]),t._v("和"),a("code",[t._v("id_rsa.pub")]),t._v("两个文件。")]),t._v(" "),a("p",[t._v("到 Github 账号的"),a("code",[t._v("Settings->SSH and GPG keys")]),t._v("里找到"),a("code",[t._v("SSH keys")]),t._v("，新建一个"),a("code",[t._v("SSH key")]),t._v("，将"),a("code",[t._v("id_rsa.pub")]),t._v("文件里的内容复制进去便可。\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/HdM3ESgFB8G6Cvu.png",alt:""}})]),a("p"),t._v(" "),a("h3",{attrs:{id:"github-desktop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-desktop"}},[t._v("#")]),t._v(" Github Desktop")]),t._v(" "),a("p",[t._v("GitHub Desktop 是一个可以与 GitHub 交互的应用程序，可以在"),a("a",{attrs:{href:"https://desktop.github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网")]),t._v("中下载。")]),t._v(" "),a("p",[t._v("具体的使用方法可以参考"),a("a",{attrs:{href:"https://docs.github.com/cn/desktop",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Desktop 文档")]),t._v("。如果Github上有仓库，就克隆远程仓库到本地；如果没有的话也可以在 Github Desktop 中直接创建。文档中都有详细的介绍。\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/t6eQ1Nx5bidBvcy.png",alt:"windows-file-menu.png"}})]),a("p"),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提交更新")]),t._v(" "),a("p",[t._v("要提交代码的更新到远程仓库，首先需要点击左下角的 commit 按钮\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/07/hDSAyJBC6Hb7tIL.png",alt:"click-commit-to-master.png"}})]),a("p"),t._v(" "),a("p",[t._v("然后点击上面的 push ，即可提交更新。由于 Github 访问速度过慢，可能会超时报错，多试几次即可，或者用 VPN 加速。\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/07/UbQZaCvpOMJoAnI.png",alt:"push-to-origin.png"}})]),a("p")]),t._v(" "),a("h2",{attrs:{id:"试着编译源代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#试着编译源代码"}},[t._v("#")]),t._v(" 试着编译源代码")]),t._v(" "),a("p",[t._v("所需要的环境配置完了，接下来试着编译源代码吧~")]),t._v(" "),a("h3",{attrs:{id:"yarn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yarn"}},[t._v("#")]),t._v(" Yarn")]),t._v(" "),a("p",[a("code",[t._v("yarn")]),t._v("和"),a("code",[t._v("npm")]),t._v("一样，都是包管理工具。用"),a("code",[t._v("npm")]),t._v("来全局安装"),a("code",[t._v("yarn")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v("\n")])])]),a("p",[t._v("之后运行"),a("code",[t._v("yarn install")]),t._v("的时候，可能会出现"),a("code",[t._v("在此系统上禁止运行此脚本")]),t._v("的报错。所以用管理员身份打开"),a("code",[t._v("PowerShell")]),t._v("，使用命令更改计算机的执行策略")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("set-ExecutionPolicy RemoteSigned\n")])])]),a("p",[t._v("然后输入"),a("code",[t._v("Y")]),t._v("表示"),a("code",[t._v("是")]),t._v("。设置完之后可以通过"),a("code",[t._v("get-ExecutionPolicy")]),t._v("命令查看执行策略是否为"),a("code",[t._v("RemoteSigned")]),t._v("。")]),t._v(" "),a("p",[t._v("接下来就是安装依赖了")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),a("p",[t._v("成功后会出现"),a("code",[t._v("node_modules")]),t._v("文件夹。")]),t._v(" "),a("h3",{attrs:{id:"编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译"}},[t._v("#")]),t._v(" 编译")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" run dev\n")])])]),a("p",[t._v("OK，编译成功了，点进网址看看效果~")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("记得在部署之前，将"),a("code",[t._v("/.vuepress/config.js")]),t._v("里的"),a("code",[t._v("comment")]),t._v("和"),a("code",[t._v("analytics")]),t._v("配置注释掉，分别是评论和分析工具。")])]),t._v(" "),a("h2",{attrs:{id:"网站的部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网站的部署"}},[t._v("#")]),t._v(" 网站的部署")]),t._v(" "),a("p",[t._v("有了初步的网站，就可以部署了。")]),t._v(" "),a("p",[t._v("部署之后别人可以直接通过网址访问，或者在搜索引擎中搜索关键字访问。")]),t._v(" "),a("p",[t._v("虽然部署是一件麻烦事，但由于只是静态网页，因此选择部署在 Github pages 或 vercel 上，能省下不少步骤。")]),t._v(" "),a("h3",{attrs:{id:"github-pages-部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-pages-部署"}},[t._v("#")]),t._v(" Github pages 部署")]),t._v(" "),a("p",[t._v("在部署之前，我们需要创建一个 gh-pages 分支，之后将打包以后的静态文件放在 gh-pages 分支中。\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/pRsED7tQ8WkSVqu.png",alt:"new-branch-button-mac.png"}})]),a("p"),t._v(" "),a("p",[t._v("然后在项目文件夹下新建文件"),a("code",[t._v("deploy.sh")]),t._v("作为打包命令的脚本，代码如下：")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/usr/bin/env sh")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 确保脚本抛出遇到的错误")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" -e\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 生成静态文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入生成的文件夹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" docs/.vuepress/dist\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果是发布到自定义域名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# echo 'c01day.com' > CNAME")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deploy'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果发布到 https://<USERNAME>.github.io")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push -f git@github.com:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("USERNAME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("USERNAME"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(".github.io.git master:gh-pages\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果发布到 https://<USERNAME>.github.io/<REPO>")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages")]),t._v("\n            \n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" -\n")])])]),a("p",[a("br"),a("br")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("解释")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("npm run build")]),t._v("打包命令生成的静态文件在"),a("code",[t._v("docs/.vuepress/dist")]),t._v("中，之后将其上传到"),a("code",[t._v("gh-pages")]),t._v("分支上。可以在"),a("code",[t._v("config.js")]),t._v("中用dest指定打包路径。")]),t._v(" "),a("li",[t._v("将"),a("code",[t._v("git push")]),t._v("命令中的"),a("code",[t._v("<USERNAME>")]),t._v("替换为自己 Github 账号的用户名。")]),t._v(" "),a("li",[t._v("在VSCode菜单栏点击打开终端，或者用快捷键"),a("code",[t._v("Ctrl+`")]),t._v("（在键盘左上角），在命令行中用"),a("code",[t._v("sh")]),t._v("命令运行文件。")]),t._v(" "),a("li")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" deploy.sh\n")])])])]),t._v(" "),a("p",[a("code",[t._v("gh-pages")]),t._v("代码上传完之后，点击项目的"),a("code",[t._v("Settings->Pages")]),t._v("，选择"),a("code",[t._v("gh-pages")]),t._v("作为资源\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/A7bRWK5vEqwf4H6.png",alt:""}})]),a("p"),t._v(" "),a("p",[t._v("然后就会出现网址\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/NMFbwlsng3TjC8p.png",alt:""}})]),a("p"),t._v(" "),a("p",[t._v("当然，上面的命令是将静态文件提交到"),a("code",[t._v("gh-pages")]),t._v("分支上，也别忘了将代码更新提交到主分支"),a("code",[t._v("main")]),t._v("上。")]),t._v(" "),a("h3",{attrs:{id:"vercel-部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vercel-部署"}},[t._v("#")]),t._v(" Vercel 部署")]),t._v(" "),a("p",[t._v("由于在 Github pages 上部署的网页不能被百度蜘蛛爬取到，因此我们迁移到 Vercel 。当然，要是不怎么在乎百度是否收录，可以跳过此节。")]),t._v(" "),a("h4",{attrs:{id:"更改-dest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更改-dest"}},[t._v("#")]),t._v(" 更改 dest")]),t._v(" "),a("p",[t._v("之前打包的路径为"),a("code",[t._v("docs/.vuepress/dist")]),t._v("，由于 Vercel 上部署项目的"),a("code",[t._v("Preview Branches")]),t._v("会在分支中打包并寻找"),a("code",[t._v("public")]),t._v("文件，因此需要在"),a("code",[t._v("config.js")]),t._v("中设置 dest ，将打包文件路径改为"),a("code",[t._v("public")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  dest"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("并将之前"),a("code",[t._v("deploy.sh")]),t._v("中的"),a("code",[t._v("cd docs/.vuepress/dist")]),t._v("改为")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# deploy.sh")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 原来是 cd docs/.vuepress/dist")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" public\n")])])]),a("p",[t._v("然后将之前"),a("code",[t._v("docs/.vuepress/dist")]),t._v("路径下的文件删除，并尝试"),a("code",[t._v("build")]),t._v("一次。")]),t._v(" "),a("h4",{attrs:{id:"导入项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导入项目"}},[t._v("#")]),t._v(" 导入项目")]),t._v(" "),a("p",[t._v("首先在"),a("a",{attrs:{href:"https://vercel.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vercel官网")]),t._v("注册账号。之后创建一个项目，导入 Github 上的仓库，步骤默认即可。")]),t._v(" "),a("p",[t._v("不论有没有部署成功，先跳到下一步把"),a("code",[t._v("Production Branch")]),t._v("改了。")]),t._v(" "),a("h4",{attrs:{id:"更改production-branch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更改production-branch"}},[t._v("#")]),t._v(" 更改"),a("code",[t._v("Production Branch")])]),t._v(" "),a("p",[t._v("我们需要将"),a("code",[t._v("Production Branch")]),t._v("更改为"),a("code",[t._v("gh-pages")]),t._v("分支，让"),a("code",[t._v("main")]),t._v("分支作为"),a("code",[t._v("Preview Branches")]),t._v("。")]),t._v(" "),a("p",[t._v("其实就和之前 Github pages 的部署一样，将"),a("code",[t._v("gh-pages")]),t._v("分支的静态文件作为网页源代码。")]),t._v(" "),a("p",[t._v("步骤很简单，到项目的"),a("code",[t._v("Settings->Git")]),t._v("，找到"),a("code",[t._v("Production Branch")]),t._v("，把分支从"),a("code",[t._v("main")]),t._v("改为"),a("code",[t._v("gh-pages")]),t._v("就行。\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/ykie23LXMzKZqvu.png",alt:""}})]),a("p"),t._v(" "),a("p",[t._v("之后任意提交一次更新到"),a("code",[t._v("gh-pages")]),t._v("分支上，Vercel 就会自动部署了，可以点击查看部署的网站。\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/Xx62VvJ7UqBfzFg.png",alt:""}})]),a("p"),t._v(" "),a("h2",{attrs:{id:"自定义域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义域名"}},[t._v("#")]),t._v(" 自定义域名")]),t._v(" "),a("p",[t._v("要自定义域名，首先需要买一个域名，服务商随意，我用的是阿里云。之后实名认证等步骤不再赘述。")]),t._v(" "),a("h3",{attrs:{id:"github-pages-自定义域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-pages-自定义域名"}},[t._v("#")]),t._v(" Github pages 自定义域名")]),t._v(" "),a("h4",{attrs:{id:"配置域名解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置域名解析"}},[t._v("#")]),t._v(" 配置域名解析")]),t._v(" "),a("p",[t._v("转到域名服务商后台的域名解析，添加如下两条记录：\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/IKlnEGsAwpxHVQ3.png",alt:""}})]),a("p"),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("ul",[a("li",[t._v("记录值为"),a("code",[t._v("<USERNAME>.github.io")]),t._v("，"),a("code",[t._v("<USERNAME>")]),t._v("为你的 Github 用户名。")]),t._v(" "),a("li",[t._v("记录类型选择 CNAME 。")]),t._v(" "),a("li",[t._v("主机记录分别为"),a("code",[t._v("www")]),t._v("和"),a("code",[t._v("@")]),t._v("，"),a("code",[t._v("@")]),t._v("也就是不填主机记录的默认值。")]),t._v(" "),a("li",[t._v("如果项目在其他仓库，记录值同样为"),a("code",[t._v("<USERNAME>.github.io")]),t._v("。")])])]),t._v(" "),a("h4",{attrs:{id:"配置-cname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-cname"}},[t._v("#")]),t._v(" 配置 CNAME")]),t._v(" "),a("p",[t._v("首先在"),a("code",[t._v("<USERNAME>.github.io")]),t._v("仓库首页新建一个文件"),a("code",[t._v("CNAME")]),t._v("（如果项目在其他仓库，也是在"),a("code",[t._v("<USERNAME>.github.io")]),t._v("仓库中配置域名），内容为你的域名，例如")]),t._v(" "),a("div",{staticClass:"language-CNAME extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("c01day.com\n")])])]),a("p",[t._v("并将"),a("code",[t._v("deploy.sh")]),t._v("文件中的以下内容去掉注释，同样换为自己的域名")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果是发布到自定义域名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# echo 'c01day.com' > CNAME")]),t._v("\n")])])]),a("p",[t._v("之后在仓库中的"),a("code",[t._v("Settings->Pages")]),t._v("下，可以看到"),a("code",[t._v("Custom domain")]),t._v("会变为自己的域名。\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/rBHfhzLJVqZKl2C.png",alt:""}})]),a("p"),t._v(" "),a("p",[t._v("在上面会出现网址，为"),a("code",[t._v("https://www.XXX.com/")]),t._v("，例如"),a("code",[t._v("https://www.c01day.com/")]),t._v("。")]),t._v(" "),a("h4",{attrs:{id:"如果是自定义仓库应该怎么做"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如果是自定义仓库应该怎么做"}},[t._v("#")]),t._v(" 如果是自定义仓库应该怎么做")]),t._v(" "),a("p",[a("strong",[a("font",{attrs:{color:"red"}},[t._v("以上所提到的仓库默认为"),a("code",[t._v("<USERNAME>.github.io")]),t._v("，如果项目在其他自定义仓库中，请看下面提示（以仓库名"),a("code",[t._v("blog")]),t._v("为例）")])],1)]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("如果项目在自定义仓库")]),t._v(" "),a("ul",[a("li",[t._v("域名解析配置不变，和上面一样。")]),t._v(" "),a("li",[t._v("CNAME 文件依然放到"),a("code",[t._v("<USERNAME>.github.io")]),t._v("中，也就是说，最好有一个"),a("code",[t._v("<USERNAME>.github.io")]),t._v("仓库。")]),t._v(" "),a("li",[a("code",[t._v("deploy.sh")]),t._v("文件中的"),a("code",[t._v("echo 'XXX.com' > CNAME")]),t._v("就不用了。")]),t._v(" "),a("li",[t._v("在代码的"),a("code",[t._v("config.js")]),t._v("中，添加"),a("code",[t._v('base: "/<REPO>/",')]),t._v("，"),a("code",[t._v("<REPO>")]),t._v("为自定义仓库名，例如"),a("code",[t._v("blog")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  base"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/<REPO>/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 例如 base: "/blog/",')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("在"),a("code",[t._v(".md")]),t._v("文件中，图片的引用路径要加上"),a("code",[t._v("$withBase")]),t._v("，注意"),a("code",[t._v("src")]),t._v("是"),a("code",[t._v("v-bind")]),t._v("语法，前面有个"),a("code",[t._v(":")]),t._v("。")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("$withBase("),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("/XXX.png"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])])]),t._v(" "),a("p",[t._v("之后，到自定义仓库的"),a("code",[t._v("Settings->Pages")]),t._v("中可以看到，部署的网址为"),a("code",[t._v("https://www.XXX.com/<REPO>/")]),t._v("，例如"),a("code",[t._v("https://www.c01day.com/blog/")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"vercel-自定义域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vercel-自定义域名"}},[t._v("#")]),t._v(" Vercel 自定义域名")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("同一个域名不能同时用在 Github pages 和 Vercel 上。")])]),t._v(" "),a("p",[t._v("在 Vercel 刚刚部署项目的"),a("code",[t._v("Settings->Domains")]),t._v("中，添加自己的域名\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/kFftuxGcmKzw3XN.png",alt:""}})]),a("p"),t._v(" "),a("p",[t._v("按照给的提示，添加两条解析\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/W6KMcksqv7FhdD8.png",alt:""}})]),a("p"),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("ul",[a("li",[t._v("注意要将之前 Github pages 中设置的域名解析删除，因为是互斥的。")]),t._v(" "),a("li",[t._v("并不清楚其他人的IP是不是也为76.76.21.21，据说有些IP被墙了。")])])]),t._v(" "),a("p",[t._v("然后就配置完成了，并且签发了证书\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/yrW29GHwPmscolQ.png",alt:""}})]),a("p"),t._v(" "),a("h2",{attrs:{id:"如何让百度和google搜索到"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何让百度和google搜索到"}},[t._v("#")]),t._v(" 如何让百度和Google搜索到？")]),t._v(" "),a("h3",{attrs:{id:"生成站点地图-sitemap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成站点地图-sitemap"}},[t._v("#")]),t._v(" 生成站点地图 sitemap")]),t._v(" "),a("p",[t._v("站点地图"),a("code",[t._v("sitemap.xml")]),t._v("是为了让蜘蛛更好地爬取到我们的网页。我们需要安装生成站点地图的插件")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" vuepress-plugin-sitemap\n")])])]),a("p",[t._v("然后在plugins中导入")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sitemap'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://www.c01day.com/'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//为你的自定义域名")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("之后每次"),a("code",[t._v("build")]),t._v("后都会在静态资源文件夹中生成"),a("code",[t._v("sitemap.xml")]),t._v("文件，用来上传到百度站长和 Google Search Console 。")]),t._v(" "),a("h3",{attrs:{id:"百度站长"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#百度站长"}},[t._v("#")]),t._v(" 百度站长")]),t._v(" "),a("p",[t._v("登录百度站长，添加自己的网址，会有三种方式验证你对网站的所属权，下面都有具体的操作步骤\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/OCLGjJ4vd27A6yl.png",alt:""}})]),a("p"),t._v(" "),a("p",[t._v("验证完后提交自己的"),a("code",[t._v("sitemap.xml")]),t._v("，例如\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/1HFt37JVdyRQCsc.png",alt:""}})]),a("p"),t._v(" "),a("h3",{attrs:{id:"google-search-console"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#google-search-console"}},[t._v("#")]),t._v(" Google Search Console")]),t._v(" "),a("p",[t._v("同样，到"),a("a",{attrs:{href:"https://search.google.com/search-console/about",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google Search Console")]),t._v("中添加网址\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/uI5Ta9yNxg7iPBH.png",alt:""}})]),a("p"),t._v(" "),a("p",[t._v("我一般选择右边的。")]),t._v(" "),a("p",[t._v("同样，有几种方式验证所属权\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/G6T3NMHgelmoF4a.png",alt:""}})]),a("p"),t._v(" "),a("p",[t._v("之后同样提交站点地图就行。")]),t._v(" "),a("p",[t._v("可以选择请求编入索引\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/6SGp7harcekRPo9.png",alt:""}})]),a("p"),t._v(" "),a("p",[t._v("网站收录后会变成这样\n")]),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://i.loli.net/2021/08/08/duPNOK9HMfm83Tj.png",alt:""}})]),a("p"),t._v(" "),a("p",[t._v("OK，现在所有的都已经讲完了，可能有很多细节没有涉及到，也可能有很多错误和不完善的地方，我也正在尝试着去解决。😇")]),t._v(" "),a("p",[t._v("顺带一提，百度收录得是真的慢诶🙃")])])}),[],!1,null,null,null);s.default=v.exports}}]);