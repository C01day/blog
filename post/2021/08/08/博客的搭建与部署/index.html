<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>博客的搭建与部署 | C01day</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/logo.png">
    <meta name="description" content="C01day's blog, powered by VuePress, themed by Gungnir.">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="/assets/css/0.styles.10a68eda.css" as="style"><link rel="preload" href="/assets/js/app.964d3195.js" as="script"><link rel="preload" href="/assets/js/10.088ffbb3.js" as="script"><link rel="preload" href="/assets/js/1.b1527a9c.js" as="script"><link rel="preload" href="/assets/js/2.f689be52.js" as="script"><link rel="preload" href="/assets/js/25.fabbcb0c.js" as="script"><link rel="preload" href="/assets/js/14.30e23d2c.js" as="script"><link rel="prefetch" href="/assets/js/11.5b6f4b55.js"><link rel="prefetch" href="/assets/js/12.5ff7f1f8.js"><link rel="prefetch" href="/assets/js/13.063ce9ee.js"><link rel="prefetch" href="/assets/js/15.1e52598e.js"><link rel="prefetch" href="/assets/js/16.48b01999.js"><link rel="prefetch" href="/assets/js/17.99b9f98d.js"><link rel="prefetch" href="/assets/js/18.9e5ee42a.js"><link rel="prefetch" href="/assets/js/19.7f9a89e1.js"><link rel="prefetch" href="/assets/js/20.9b7bc5b0.js"><link rel="prefetch" href="/assets/js/21.7c7b43cd.js"><link rel="prefetch" href="/assets/js/22.2fbfa379.js"><link rel="prefetch" href="/assets/js/23.f72c6ec2.js"><link rel="prefetch" href="/assets/js/24.f314aa4a.js"><link rel="prefetch" href="/assets/js/26.fe5d3c3c.js"><link rel="prefetch" href="/assets/js/27.608a1437.js"><link rel="prefetch" href="/assets/js/4.989d2ac0.js"><link rel="prefetch" href="/assets/js/5.06a130ee.js"><link rel="prefetch" href="/assets/js/6.dc23f978.js"><link rel="prefetch" href="/assets/js/7.79414031.js"><link rel="prefetch" href="/assets/js/8.b751be52.js"><link rel="prefetch" href="/assets/js/9.b84a6fcb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.10a68eda.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="theme-container" class="theme-container post-container no-sidebar" data-v-60b9a85e><header class="navbar invert" data-v-60b9a85e><a href="/" class="home-link router-link-active"><span class="site-name"> C01day </span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M19 21H5a1 1 0 01-1-1v-9H1l10.327-9.388a1 1 0 011.346 0L23 11h-3v9a1 1 0 01-1 1zM6 19h12V9.157l-6-5.454-6 5.454V19z"/></svg>
  主页
</a></div><div class="nav-item"><a href="/about/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-1.6 -1.6 19.2 19.2" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M2.678 11.894a1 1 0 01.287.801 10.97 10.97 0 01-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 01.71-.074A8.06 8.06 0 008 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 01-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 00.244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 01-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/></svg>
  关于我
</a></div><div class="nav-item"><a href="/tags/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-1.6 -1.6 19.2 19.2" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M2 2a2 2 0 012-2h8a2 2 0 012 2v13.5a.5.5 0 01-.777.416L8 13.101l-5.223 2.815A.5.5 0 012 15.5V2zm2-1a1 1 0 00-1 1v12.566l4.723-2.482a.5.5 0 01.554 0L13 14.566V2a1 1 0 00-1-1H4z"/></svg>
  文章
</a></div><div class="nav-item"><a href="/links/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"/></svg>
  外链
</a></div> <div class="nav-item"><a class="nav-link ov-parent ov-hover" style="cursor: pointer"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"/></svg>
      搜索
    </a></div></nav></div></header> <div class="sidebar-mask" data-v-60b9a85e></div> <aside class="sidebar" data-v-60b9a85e><div class="personal-info-wrapper" data-v-60b9a85e><div class="mobile-hero-avatar" data-v-60b9a85e><img src="/img/avatar.jpg" alt="hero" data-v-60b9a85e></div> <p class="mobile-heading" data-v-60b9a85e>
          C01day
        </p> <div class="sns-wrapper" data-v-60b9a85e><a href="https://github.com/C01day/blog" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-51.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></svg></a><a href="https://www.linkedin.com/in/c01day" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 01107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg></svg></a><a href="https://www.facebook.com/" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-139.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"/></svg></svg></a><a href="https://www.twitter.com/_C01day" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></svg></a><a href="https://www.zhihu.com/people/C01day" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M12.344 17.963l-1.688 1.074-2.131-3.35c-.44 1.402-1.172 2.665-2.139 3.825-.402.483-.82.918-1.301 1.375-.155.147-.775.717-.878.82l-1.414-1.414c.139-.139.787-.735.915-.856.43-.408.795-.79 1.142-1.206 1.266-1.518 2.03-3.21 2.137-5.231H3v-2h4V7h-.868c-.689 1.266-1.558 2.222-2.618 2.857L2.486 8.143c1.395-.838 2.425-2.604 3.038-5.36l1.952.434c-.14.633-.303 1.227-.489 1.783H11.5v2H9v4h2.5v2H9.185l3.159 4.963zm3.838-.07L17.298 17H19V7h-4v10h.736l.446.893zM13 5h8v14h-3l-2.5 2-1-2H13V5z"/></svg></svg></a><a href="mailto:ddaweizhou@gmail.com" target="_blank" rel="noopener noreferrer"><svg aria-hidden="true" width="0" height="0" viewBox="0 0 0 0" fill="currentColor" class="icon-stack ov-icon" style="font-size:1.2em;"><!----> <svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="icon-sns ov-icon ov-inverse" style="font-size:1.2em;"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg></svg></a>  <!----></div> <hr data-v-60b9a85e></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M19 21H5a1 1 0 01-1-1v-9H1l10.327-9.388a1 1 0 011.346 0L23 11h-3v9a1 1 0 01-1 1zM6 19h12V9.157l-6-5.454-6 5.454V19z"/></svg>
  主页
</a></div><div class="nav-item"><a href="/about/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-1.6 -1.6 19.2 19.2" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M2.678 11.894a1 1 0 01.287.801 10.97 10.97 0 01-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 01.71-.074A8.06 8.06 0 008 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 01-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 00.244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 01-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/></svg>
  关于我
</a></div><div class="nav-item"><a href="/tags/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-1.6 -1.6 19.2 19.2" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path d="M2 2a2 2 0 012-2h8a2 2 0 012 2v13.5a.5.5 0 01-.777.416L8 13.101l-5.223 2.815A.5.5 0 012 15.5V2zm2-1a1 1 0 00-1 1v12.566l4.723-2.482a.5.5 0 01.554 0L13 14.566V2a1 1 0 00-1-1H4z"/></svg>
  文章
</a></div><div class="nav-item"><a href="/links/" class="nav-link ov-parent ov-hover"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"/></svg>
  外链
</a></div> <div class="nav-item"><a class="nav-link ov-parent ov-hover" style="cursor: pointer"><svg aria-hidden="true" width="19.2" height="19.2" viewBox="0 0 24 24" fill="currentColor" class="ov-icon ov-wrench ov-hover" style="font-size:1.2em;"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9-9-4.032-9-9 4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7 0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828-1.415 1.415-2.828-2.829 1.414-1.414z"/></svg>
      搜索
    </a></div></nav> <!----> </aside> <div class="content" data-v-60b9a85e><div class="post-header style-img" style="background-image:url(/img/in-post/cover/118.jpg);" data-v-514cb4c9> <div class="header-content" data-v-514cb4c9><div class="tags" data-v-514cb4c9><span class="tag" data-v-514cb4c9>
        搭建博客
      </span></div> <h1 class="title" data-v-514cb4c9>
      博客的搭建与部署
    </h1> <h3 class="subtitle" data-v-514cb4c9>
      搭建静态网页，并部署在 Github pages 或 Vercel 上
    </h3> <div class="icons" data-v-514cb4c9><div class="icon" data-v-514cb4c9><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-514cb4c9><path d="M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"/></svg> <span data-v-514cb4c9>C01day</span></div> <div class="icon" data-v-514cb4c9><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-514cb4c9><path d="M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"/></svg> <span data-v-514cb4c9>2021-08-08</span></div> <!----></div></div></div> <main class="page"><!----> <div class="theme-content content__default"><h2 id="准备好环境"><a href="#准备好环境" class="header-anchor">#</a> 准备好环境</h2> <p>每完成一步就去掉一个标签吧~
<div data-v-70235631><span class="el-tag el-tag--dark" data-v-70235631>
    源代码
  <i class="el-tag__close el-icon-close"></i></span><span class="el-tag el-tag--success el-tag--dark" data-v-70235631>
    Node.js
  <i class="el-tag__close el-icon-close"></i></span><span class="el-tag el-tag--info el-tag--dark" data-v-70235631>
    Github
  <i class="el-tag__close el-icon-close"></i></span><span class="el-tag el-tag--danger el-tag--dark" data-v-70235631>
    Git
  <i class="el-tag__close el-icon-close"></i></span><span class="el-tag el-tag--warning el-tag--dark" data-v-70235631>
    Github Desktop
  <i class="el-tag__close el-icon-close"></i></span></div></p> <h3 id="博客源代码"><a href="#博客源代码" class="header-anchor">#</a> 博客源代码</h3> <p>可以从 Github 上下载我的<a href="https://github.com/C01day/blog" target="_blank" rel="noopener noreferrer">博客源代码</a>。</p> <h3 id="vscode"><a href="#vscode" class="header-anchor">#</a> VSCode</h3> <p><a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">VSCode</a> 是一个我用的比较顺手的编辑器。</p> <h3 id="node-js"><a href="#node-js" class="header-anchor">#</a> Node.js</h3> <p>怎么少得了 <a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">Node.js</a> 语言呢？</p> <p>请在安装后检查有无<code>npm</code>命令，若没有则需要将<code>nodejs/</code>路径添加到环境变量中。</p> <h3 id="github-账号和仓库"><a href="#github-账号和仓库" class="header-anchor">#</a> Github 账号和仓库</h3> <p>部署要用到 Github pages 或 Vercel ，我们将代码文件放在 Github 上。因此需要创建一个账号，并新建一个项目仓库(repositories)用来存储项目文件，名字建议为<code>&lt;USERNAME&gt;.github.io</code>，<code>&lt;USERNAME&gt;</code>为你的 Github 用户名，这样能免去设置<code>Base</code>的麻烦。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>README.md文件建议勾上</p></div> <h3 id="git"><a href="#git" class="header-anchor">#</a> Git</h3> <p>要将文件上传到 Github ，需要用到 <a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">Git</a> 版本控制工具。</p> <h4 id="配置用户名和邮箱"><a href="#配置用户名和邮箱" class="header-anchor">#</a> 配置用户名和邮箱</h4> <p>打开 Git 文件夹下的 Git Bash ，配置用户名和邮箱</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> config --global user.name <span class="token string">&quot;your username&quot;</span>
<span class="token function">git</span> config --global user.email <span class="token string">&quot;your email&quot;</span>
</code></pre></div><p>检查终端有无<code>git</code>命令，若没有则需要将<code>Git/bin/</code>路径添加到环境变量中。</p> <h4 id="配置-ssh-key"><a href="#配置-ssh-key" class="header-anchor">#</a> 配置 SSH key</h4> <p>第一次使用 Git 需要配置SSH密钥，来获得读取远程仓库的权限，详细的方法可以参考官网提供的<a href="https://docs.github.com/cn/github/authenticating-to-github/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent" target="_blank" rel="noopener noreferrer">生成SSH密钥教程</a>。</p> <p>依然打开 Git Bash ，输入命令</p> <div class="language-sh extra-class"><pre class="language-sh"><code>ssh-keygen -t rsa -C <span class="token string">&quot;youremail@example.com&quot;</span>
</code></pre></div><p>一直回车，使用默认路径即可。</p> <p>之后在<code>C:\Users\主机名\.ssh</code>路径下会有<code>id_rsa</code>和<code>id_rsa.pub</code>两个文件。</p> <p>到 Github 账号的<code>Settings-&gt;SSH and GPG keys</code>里找到<code>SSH keys</code>，新建一个<code>SSH key</code>，将<code>id_rsa.pub</code>文件里的内容复制进去便可。
</p><div align="center"><img src="https://i.loli.net/2021/08/08/HdM3ESgFB8G6Cvu.png" alt=""></div><p></p> <h3 id="github-desktop"><a href="#github-desktop" class="header-anchor">#</a> Github Desktop</h3> <p>GitHub Desktop 是一个可以与 GitHub 交互的应用程序，可以在<a href="https://desktop.github.com/" target="_blank" rel="noopener noreferrer">官网</a>中下载。</p> <p>具体的使用方法可以参考<a href="https://docs.github.com/cn/desktop" target="_blank" rel="noopener noreferrer">GitHub Desktop 文档</a>。如果Github上有仓库，就克隆远程仓库到本地；如果没有的话也可以在 Github Desktop 中直接创建。文档中都有详细的介绍。
</p><div align="center"><img src="https://i.loli.net/2021/08/08/t6eQ1Nx5bidBvcy.png" alt="windows-file-menu.png"></div><p></p> <div class="custom-block tip"><p class="custom-block-title">提交更新</p> <p>要提交代码的更新到远程仓库，首先需要点击左下角的 commit 按钮
</p><div align="center"><img src="https://i.loli.net/2021/08/07/hDSAyJBC6Hb7tIL.png" alt="click-commit-to-master.png"></div><p></p> <p>然后点击上面的 push ，即可提交更新。由于 Github 访问速度过慢，可能会超时报错，多试几次即可，或者用 VPN 加速。
</p><div align="center"><img src="https://i.loli.net/2021/08/07/UbQZaCvpOMJoAnI.png" alt="push-to-origin.png"></div><p></p></div> <h2 id="试着编译源代码"><a href="#试着编译源代码" class="header-anchor">#</a> 试着编译源代码</h2> <p>所需要的环境配置完了，接下来试着编译源代码吧~</p> <h3 id="yarn"><a href="#yarn" class="header-anchor">#</a> Yarn</h3> <p><code>yarn</code>和<code>npm</code>一样，都是包管理工具。用<code>npm</code>来全局安装<code>yarn</code></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> -g <span class="token function">yarn</span>
</code></pre></div><p>之后运行<code>yarn install</code>的时候，可能会出现<code>在此系统上禁止运行此脚本</code>的报错。所以用管理员身份打开<code>PowerShell</code>，使用命令更改计算机的执行策略</p> <div class="language-sh extra-class"><pre class="language-sh"><code>set-ExecutionPolicy RemoteSigned
</code></pre></div><p>然后输入<code>Y</code>表示<code>是</code>。设置完之后可以通过<code>get-ExecutionPolicy</code>命令查看执行策略是否为<code>RemoteSigned</code>。</p> <p>接下来就是安装依赖了</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">install</span>
</code></pre></div><p>成功后会出现<code>node_modules</code>文件夹。</p> <h3 id="编译"><a href="#编译" class="header-anchor">#</a> 编译</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> run dev
</code></pre></div><p>OK，编译成功了，点进网址看看效果~</p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>记得在部署之前，将<code>/.vuepress/config.js</code>里的<code>comment</code>和<code>analytics</code>配置注释掉，分别是评论和分析工具。</p></div> <h2 id="网站的部署"><a href="#网站的部署" class="header-anchor">#</a> 网站的部署</h2> <p>有了初步的网站，就可以部署了。</p> <p>部署之后别人可以直接通过网址访问，或者在搜索引擎中搜索关键字访问。</p> <p>虽然部署是一件麻烦事，但由于只是静态网页，因此选择部署在 Github pages 或 vercel 上，能省下不少步骤。</p> <h3 id="github-pages-部署"><a href="#github-pages-部署" class="header-anchor">#</a> Github pages 部署</h3> <p>在部署之前，我们需要创建一个 gh-pages 分支，之后将打包以后的静态文件放在 gh-pages 分支中。
</p><div align="center"><img src="https://i.loli.net/2021/08/08/pRsED7tQ8WkSVqu.png" alt="new-branch-button-mac.png"></div><p></p> <p>然后在项目文件夹下新建文件<code>deploy.sh</code>作为打包命令的脚本，代码如下：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/usr/bin/env sh</span>

<span class="token comment"># 确保脚本抛出遇到的错误</span>
<span class="token builtin class-name">set</span> -e

<span class="token comment"># 生成静态文件</span>
<span class="token function">npm</span> run build

<span class="token comment"># 进入生成的文件夹</span>
<span class="token builtin class-name">cd</span> docs/.vuepress/dist

<span class="token comment"># 如果是发布到自定义域名</span>
<span class="token comment"># echo 'c01day.com' &gt; CNAME</span>

<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> -A
<span class="token function">git</span> commit -m <span class="token string">'deploy'</span>

<span class="token comment"># 如果发布到 https://&lt;USERNAME&gt;.github.io</span>
<span class="token function">git</span> push -f git@github.com:<span class="token operator">&lt;</span>USERNAME<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>USERNAME<span class="token operator">&gt;</span>.github.io.git master:gh-pages

<span class="token comment"># 如果发布到 https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;</span>
<span class="token comment"># git push -f git@github.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git master:gh-pages</span>
            
<span class="token builtin class-name">cd</span> -
</code></pre></div><p><br><br></p> <div class="custom-block tip"><p class="custom-block-title">解释</p> <ul><li><code>npm run build</code>打包命令生成的静态文件在<code>docs/.vuepress/dist</code>中，之后将其上传到<code>gh-pages</code>分支上。可以在<code>config.js</code>中用dest指定打包路径。</li> <li>将<code>git push</code>命令中的<code>&lt;USERNAME&gt;</code>替换为自己 Github 账号的用户名。</li> <li>在VSCode菜单栏点击打开终端，或者用快捷键<code>Ctrl+`</code>（在键盘左上角），在命令行中用<code>sh</code>命令运行文件。</li> <li></li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sh</span> deploy.sh
</code></pre></div></div> <p><code>gh-pages</code>代码上传完之后，点击项目的<code>Settings-&gt;Pages</code>，选择<code>gh-pages</code>作为资源
</p><div align="center"><img src="https://i.loli.net/2021/08/08/A7bRWK5vEqwf4H6.png" alt=""></div><p></p> <p>然后就会出现网址
</p><div align="center"><img src="https://i.loli.net/2021/08/08/NMFbwlsng3TjC8p.png" alt=""></div><p></p> <p>当然，上面的命令是将静态文件提交到<code>gh-pages</code>分支上，也别忘了将代码更新提交到主分支<code>main</code>上。</p> <h3 id="vercel-部署"><a href="#vercel-部署" class="header-anchor">#</a> Vercel 部署</h3> <p>由于在 Github pages 上部署的网页不能被百度蜘蛛爬取到，因此我们迁移到 Vercel 。当然，要是不怎么在乎百度是否收录，可以跳过此节。</p> <h4 id="更改-dest"><a href="#更改-dest" class="header-anchor">#</a> 更改 dest</h4> <p>之前打包的路径为<code>docs/.vuepress/dist</code>，由于 Vercel 上部署项目的<code>Preview Branches</code>会在分支中打包并寻找<code>public</code>文件，因此需要在<code>config.js</code>中设置 dest ，将打包文件路径改为<code>public</code>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .vuepress/config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  dest<span class="token operator">:</span> <span class="token string">'public'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>并将之前<code>deploy.sh</code>中的<code>cd docs/.vuepress/dist</code>改为</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># deploy.sh</span>
<span class="token comment"># 原来是 cd docs/.vuepress/dist</span>
<span class="token builtin class-name">cd</span> public
</code></pre></div><p>然后将之前<code>docs/.vuepress/dist</code>路径下的文件删除，并尝试<code>build</code>一次。</p> <h4 id="导入项目"><a href="#导入项目" class="header-anchor">#</a> 导入项目</h4> <p>首先在<a href="https://vercel.com/" target="_blank" rel="noopener noreferrer">vercel官网</a>注册账号。之后创建一个项目，导入 Github 上的仓库，步骤默认即可。</p> <p>不论有没有部署成功，先跳到下一步把<code>Production Branch</code>改了。</p> <h4 id="更改production-branch"><a href="#更改production-branch" class="header-anchor">#</a> 更改<code>Production Branch</code></h4> <p>我们需要将<code>Production Branch</code>更改为<code>gh-pages</code>分支，让<code>main</code>分支作为<code>Preview Branches</code>。</p> <p>其实就和之前 Github pages 的部署一样，将<code>gh-pages</code>分支的静态文件作为网页源代码。</p> <p>步骤很简单，到项目的<code>Settings-&gt;Git</code>，找到<code>Production Branch</code>，把分支从<code>main</code>改为<code>gh-pages</code>就行。
</p><div align="center"><img src="https://i.loli.net/2021/08/08/ykie23LXMzKZqvu.png" alt=""></div><p></p> <p>之后任意提交一次更新到<code>gh-pages</code>分支上，Vercel 就会自动部署了，可以点击查看部署的网站。
</p><div align="center"><img src="https://i.loli.net/2021/08/08/Xx62VvJ7UqBfzFg.png" alt=""></div><p></p> <h2 id="自定义域名"><a href="#自定义域名" class="header-anchor">#</a> 自定义域名</h2> <p>要自定义域名，首先需要买一个域名，服务商随意，我用的是阿里云。之后实名认证等步骤不再赘述。</p> <h3 id="github-pages-自定义域名"><a href="#github-pages-自定义域名" class="header-anchor">#</a> Github pages 自定义域名</h3> <h4 id="配置域名解析"><a href="#配置域名解析" class="header-anchor">#</a> 配置域名解析</h4> <p>转到域名服务商后台的域名解析，添加如下两条记录：
</p><div align="center"><img src="https://i.loli.net/2021/08/08/IKlnEGsAwpxHVQ3.png" alt=""></div><p></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ul><li>记录值为<code>&lt;USERNAME&gt;.github.io</code>，<code>&lt;USERNAME&gt;</code>为你的 Github 用户名。</li> <li>记录类型选择 CNAME 。</li> <li>主机记录分别为<code>www</code>和<code>@</code>，<code>@</code>也就是不填主机记录的默认值。</li> <li>如果项目在其他仓库，记录值同样为<code>&lt;USERNAME&gt;.github.io</code>。</li></ul></div> <h4 id="配置-cname"><a href="#配置-cname" class="header-anchor">#</a> 配置 CNAME</h4> <p>首先在<code>&lt;USERNAME&gt;.github.io</code>仓库首页新建一个文件<code>CNAME</code>（如果项目在其他仓库，也是在<code>&lt;USERNAME&gt;.github.io</code>仓库中配置域名），内容为你的域名，例如</p> <div class="language-CNAME extra-class"><pre class="language-text"><code>c01day.com
</code></pre></div><p>并将<code>deploy.sh</code>文件中的以下内容去掉注释，同样换为自己的域名</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 如果是发布到自定义域名</span>
<span class="token comment"># echo 'c01day.com' &gt; CNAME</span>
</code></pre></div><p>之后在仓库中的<code>Settings-&gt;Pages</code>下，可以看到<code>Custom domain</code>会变为自己的域名。
</p><div align="center"><img src="https://i.loli.net/2021/08/08/rBHfhzLJVqZKl2C.png" alt=""></div><p></p> <p>在上面会出现网址，为<code>https://www.XXX.com/</code>，例如<code>https://www.c01day.com/</code>。</p> <h4 id="如果是自定义仓库应该怎么做"><a href="#如果是自定义仓库应该怎么做" class="header-anchor">#</a> 如果是自定义仓库应该怎么做</h4> <p><strong><font color="red">以上所提到的仓库默认为<code>&lt;USERNAME&gt;.github.io</code>，如果项目在其他自定义仓库中，请看下面提示（以仓库名<code>blog</code>为例）</font></strong></p> <div class="custom-block tip"><p class="custom-block-title">如果项目在自定义仓库</p> <ul><li>域名解析配置不变，和上面一样。</li> <li>CNAME 文件依然放到<code>&lt;USERNAME&gt;.github.io</code>中，也就是说，最好有一个<code>&lt;USERNAME&gt;.github.io</code>仓库。</li> <li><code>deploy.sh</code>文件中的<code>echo 'XXX.com' &gt; CNAME</code>就不用了。</li> <li>在代码的<code>config.js</code>中，添加<code>base: &quot;/&lt;REPO&gt;/&quot;,</code>，<code>&lt;REPO&gt;</code>为自定义仓库名，例如<code>blog</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .vuepress/config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  base<span class="token operator">:</span> <span class="token string">&quot;/&lt;REPO&gt;/&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 例如 base: &quot;/blog/&quot;,</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>在<code>.md</code>文件中，图片的引用路径要加上<code>$withBase</code>，注意<code>src</code>是<code>v-bind</code>语法，前面有个<code>:</code>。</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$withBase(<span class="token punctuation">'</span>/XXX.png<span class="token punctuation">'</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></div> <p>之后，到自定义仓库的<code>Settings-&gt;Pages</code>中可以看到，部署的网址为<code>https://www.XXX.com/&lt;REPO&gt;/</code>，例如<code>https://www.c01day.com/blog/</code>。</p> <h3 id="vercel-自定义域名"><a href="#vercel-自定义域名" class="header-anchor">#</a> Vercel 自定义域名</h3> <div class="custom-block danger"><p class="custom-block-title">注意</p> <p>同一个域名不能同时用在 Github pages 和 Vercel 上。</p></div> <p>在 Vercel 刚刚部署项目的<code>Settings-&gt;Domains</code>中，添加自己的域名
</p><div align="center"><img src="https://i.loli.net/2021/08/08/kFftuxGcmKzw3XN.png" alt=""></div><p></p> <p>按照给的提示，添加两条解析
</p><div align="center"><img src="https://i.loli.net/2021/08/08/W6KMcksqv7FhdD8.png" alt=""></div><p></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ul><li>注意要将之前 Github pages 中设置的域名解析删除，因为是互斥的。</li> <li>并不清楚其他人的IP是不是也为76.76.21.21，据说有些IP被墙了。</li></ul></div> <p>然后就配置完成了，并且签发了证书
</p><div align="center"><img src="https://i.loli.net/2021/08/08/yrW29GHwPmscolQ.png" alt=""></div><p></p> <h2 id="如何让百度和google搜索到"><a href="#如何让百度和google搜索到" class="header-anchor">#</a> 如何让百度和Google搜索到？</h2> <h3 id="生成站点地图-sitemap"><a href="#生成站点地图-sitemap" class="header-anchor">#</a> 生成站点地图 sitemap</h3> <p>站点地图<code>sitemap.xml</code>是为了让蜘蛛更好地爬取到我们的网页。我们需要安装生成站点地图的插件</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> vuepress-plugin-sitemap
</code></pre></div><p>然后在plugins中导入</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .vuepress/config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'sitemap'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      hostname<span class="token operator">:</span> <span class="token string">'https://www.c01day.com/'</span> <span class="token comment">//为你的自定义域名</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>之后每次<code>build</code>后都会在静态资源文件夹中生成<code>sitemap.xml</code>文件，用来上传到百度站长和 Google Search Console 。</p> <h3 id="百度站长"><a href="#百度站长" class="header-anchor">#</a> 百度站长</h3> <p>登录百度站长，添加自己的网址，会有三种方式验证你对网站的所属权，下面都有具体的操作步骤
</p><div align="center"><img src="https://i.loli.net/2021/08/08/OCLGjJ4vd27A6yl.png" alt=""></div><p></p> <p>验证完后提交自己的<code>sitemap.xml</code>，例如
</p><div align="center"><img src="https://i.loli.net/2021/08/08/1HFt37JVdyRQCsc.png" alt=""></div><p></p> <h3 id="google-search-console"><a href="#google-search-console" class="header-anchor">#</a> Google Search Console</h3> <p>同样，到<a href="https://search.google.com/search-console/about" target="_blank" rel="noopener noreferrer">Google Search Console</a>中添加网址
</p><div align="center"><img src="https://i.loli.net/2021/08/08/uI5Ta9yNxg7iPBH.png" alt=""></div><p></p> <p>我一般选择右边的。</p> <p>同样，有几种方式验证所属权
</p><div align="center"><img src="https://i.loli.net/2021/08/08/G6T3NMHgelmoF4a.png" alt=""></div><p></p> <p>之后同样提交站点地图就行。</p> <p>可以选择请求编入索引
</p><div align="center"><img src="https://i.loli.net/2021/08/08/6SGp7harcekRPo9.png" alt=""></div><p></p> <p>网站收录后会变成这样
</p><div align="center"><img src="https://i.loli.net/2021/08/08/duPNOK9HMfm83Tj.png" alt=""></div><p></p> <p>OK，现在所有的都已经讲完了，可能有很多细节没有涉及到，也可能有很多错误和不完善的地方，我也正在尝试着去解决。😇</p> <p>顺带一提，百度收录得是真的慢诶🙃</p> <h2 id="后续"><a href="#后续" class="header-anchor">#</a> 后续</h2> <h3 id="vssue登录会跳到网站首页"><a href="#vssue登录会跳到网站首页" class="header-anchor">#</a> Vssue登录会跳到网站首页</h3> <p>应该是<code>.md</code>文件名中有中文/特殊字符的原因，导致地址解析不正确，会重定向到<code>Authorization callback URL</code>，也就是在<code>OAuth Apps</code>里配置的首页。</p> <h3 id="lastupdated-不会实时更新"><a href="#lastupdated-不会实时更新" class="header-anchor">#</a> lastUpdated 不会实时更新</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// blog/.vuepress/config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">'@vuepress/last-updated'</span><span class="token punctuation">,</span> 
      <span class="token punctuation">{</span>
        <span class="token function-variable function">transformer</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">timestamp<span class="token punctuation">,</span> lang</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> moment <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;moment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          moment<span class="token punctuation">.</span><span class="token function">locale</span><span class="token punctuation">(</span>lang<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fromNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>虽然会显示上次更新于几天前，但不论过多久还是显示同样的内容。</p> <p>源代码的<code>lastUpdated</code>是放在<code>computed</code>里的，据 vue 官网上的解释，<code>Date</code>日期之类的不是响应式依赖，计算属性将不再更新。于是我试着将<code>lastUpdated</code>放在<code>mounted</code>里，发现还是不行。</p> <p>没办法，还是用回<code>moment(timestamp).format(&quot;YYYY-MM-DD HH:mm&quot;);</code>吧🙃</p> <h3 id="配置首页的标签页标题"><a href="#配置首页的标签页标题" class="header-anchor">#</a> 配置首页的标签页标题</h3> <p>标签页标题就是浏览器最上面的文字，在主页的时候显示的是Posts，我想改为Home。询问了<a href="https://zxh.io/" target="_blank" rel="noopener noreferrer">作者大佬</a>后，找到了解决方法：</p> <p>在<code>packages/theme-gungnir/index.js</code>中<code>@vuepress/plugin-blog</code>的如下部分添加<code>title: &quot;Home&quot;</code>便可🤗
</p><div align="center"><img src="https://i.loli.net/2021/08/09/PUgq8LxjHVlZJ6p.png" alt=""></div><p></p> <h3 id="github-actions-自动部署"><a href="#github-actions-自动部署" class="header-anchor">#</a> Github Actions 自动部署</h3> <p>心血来潮，先试试好不好用~</p> <p>这段 action （由<a href="https://v2.vuepress.vuejs.org/zh/guide/deployment.html#github-pages" target="_blank" rel="noopener noreferrer">vuepress官方</a>提供）的功能是在我 push 到 main 分支的时候自动 build ，然后将打包后的静态文件上传到 gh-pages 分支上。</p> <p>首先在用户的<code>Settings-&gt;Developer settings</code>中新建一个<code>Personal access tokens</code>，名字叫<code>ACCESS_TOKEN</code>，权限选择<code>repo</code>就行。</p> <p>然后在要自动部署的仓库的<code>Settings-&gt;secrets</code>中新建一个名为<code>ACCESS_TOKEN</code>的<code>secret</code>，将之前获得的 TOKEN 复制上去。</p> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token comment"># .github\workflows\deploy.yml</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> build and deploy

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token comment"># 每当 push 到 main 分支时触发部署</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span>
  <span class="token comment"># 手动触发部署</span>
  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build-and-deploy</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">env</span><span class="token punctuation">:</span>
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token comment"># “最近更新时间” 等 git 日志相关信息，需要拉取全部提交记录</span>
          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Node.js
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token comment"># 选择要使用的 node 版本</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">&quot;14&quot;</span>

      <span class="token comment"># 缓存 node_modules</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Cache dependencies
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/cache@v2
        <span class="token key atrule">id</span><span class="token punctuation">:</span> yarn<span class="token punctuation">-</span>cache
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">path</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
            **/node_modules</span>
          <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> runner.os <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span>yarn<span class="token punctuation">-</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> hashFiles('<span class="token important">**/yarn.lock')</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">restore-keys</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
            ${{ runner.os }}-yarn-</span>

      <span class="token comment"># 如果缓存没有命中，安装依赖</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install dependencies
        <span class="token key atrule">if</span><span class="token punctuation">:</span> steps.yarn<span class="token punctuation">-</span>cache.outputs.cache<span class="token punctuation">-</span>hit <span class="token tag">!=</span> 'true'
        <span class="token key atrule">run</span><span class="token punctuation">:</span> yarn <span class="token punctuation">-</span><span class="token punctuation">-</span>frozen<span class="token punctuation">-</span>lockfile

      <span class="token comment"># 运行构建脚本</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build VuePress site
        <span class="token key atrule">run</span><span class="token punctuation">:</span> yarn build

      <span class="token comment"># 查看 workflow 的文档来获取更多信息</span>
      <span class="token comment"># @see https://github.com/JamesIves/github-pages-deploy-action</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to GitHub Pages
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> JamesIves/github<span class="token punctuation">-</span>pages<span class="token punctuation">-</span>deploy<span class="token punctuation">-</span>action@releases/v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">ACCESS_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ACCESS_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token comment"># 部署到 gh-pages 分支</span>
          <span class="token key atrule">BRANCH</span><span class="token punctuation">:</span> gh<span class="token punctuation">-</span>pages
          <span class="token comment"># 部署目录为 VuePress 的输出目录</span>
          <span class="token key atrule">FOLDER</span><span class="token punctuation">:</span> public
</code></pre></div><div class="custom-block info"><p class="custom-block-title">tip</p> <p>不过测试了一次后发现<code>lastUpdated</code>的时区不对，于是在上述代码的<code>env</code>部分添加了地区。</p></div> <h3 id="giscus评论"><a href="#giscus评论" class="header-anchor">#</a> giscus评论</h3> <p>到<a href="https://giscus.app/" target="_blank" rel="noopener noreferrer">giscus官网</a>中按照流程配置一下，会获得一段<code>&lt;script&gt;</code>代码，然后复制到相应位置即可。</p> <p>目前没解决的问题：</p> <ul><li><s>响应式（评论随着文章切换）</s></li> <li>深色主题（主题切换后评论区还是白色）</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次编辑于:</span> <span class="time">2023-04-28 18:01</span></div></footer> <!----> <div class="pager"><a href="/post/2021/09/16/%E7%A0%94%E7%A9%B6%E7%94%9F%E7%94%9F%E6%B4%BB/" class="next">
    Next<br> <span>
      研究生生活
    </span></a> <a href="/post/2021/07/31/markdown%E8%AF%AD%E6%B3%95/" class="previous">
    Previous<br> <span>
      markdown语法
    </span></a></div> <div class="vssue-comment-wrapper"><script src="https://giscus.app/client.js" data-repo="C01day/Giscus-comments" data-repo-id="R_kgDOGGHh_Q" data-category="Announcements" data-category-id="DIC_kwDOGGHh_c4B_JND" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-theme="https://c01day.github.io/giscus-light.css" data-loading="lazy" crossorigin="anonymous" async="async"></script></div></main> <ul class="catalog" style="top:0px !important;" data-v-86932056><li class="level-2 toc-link-准备好环境" data-v-86932056>准备好环境</li><li class="level-3 toc-link-博客源代码" data-v-86932056>博客源代码</li><li class="level-3 toc-link-vscode" data-v-86932056>VSCode</li><li class="level-3 toc-link-node-js" data-v-86932056>Node.js</li><li class="level-3 toc-link-github-账号和仓库" data-v-86932056>Github 账号和仓库</li><li class="level-3 toc-link-git" data-v-86932056>Git</li><li class="level-4 toc-link-配置用户名和邮箱" data-v-86932056>配置用户名和邮箱</li><li class="level-4 toc-link-配置-ssh-key" data-v-86932056>配置 SSH key</li><li class="level-3 toc-link-github-desktop" data-v-86932056>Github Desktop</li><li class="level-2 toc-link-试着编译源代码" data-v-86932056>试着编译源代码</li><li class="level-3 toc-link-yarn" data-v-86932056>Yarn</li><li class="level-3 toc-link-编译" data-v-86932056>编译</li><li class="level-2 toc-link-网站的部署" data-v-86932056>网站的部署</li><li class="level-3 toc-link-github-pages-部署" data-v-86932056>Github pages 部署</li><li class="level-3 toc-link-vercel-部署" data-v-86932056>Vercel 部署</li><li class="level-4 toc-link-更改-dest" data-v-86932056>更改 dest</li><li class="level-4 toc-link-导入项目" data-v-86932056>导入项目</li><li class="level-4 toc-link-更改production-branch" data-v-86932056>更改Production Branch</li><li class="level-2 toc-link-自定义域名" data-v-86932056>自定义域名</li><li class="level-3 toc-link-github-pages-自定义域名" data-v-86932056>Github pages 自定义域名</li><li class="level-4 toc-link-配置域名解析" data-v-86932056>配置域名解析</li><li class="level-4 toc-link-配置-cname" data-v-86932056>配置 CNAME</li><li class="level-4 toc-link-如果是自定义仓库应该怎么做" data-v-86932056>如果是自定义仓库应该怎么做</li><li class="level-3 toc-link-vercel-自定义域名" data-v-86932056>Vercel 自定义域名</li><li class="level-2 toc-link-如何让百度和google搜索到" data-v-86932056>如何让百度和Google搜索到？</li><li class="level-3 toc-link-生成站点地图-sitemap" data-v-86932056>生成站点地图 sitemap</li><li class="level-3 toc-link-百度站长" data-v-86932056>百度站长</li><li class="level-3 toc-link-google-search-console" data-v-86932056>Google Search Console</li><li class="level-2 toc-link-后续" data-v-86932056>后续</li><li class="level-3 toc-link-vssue登录会跳到网站首页" data-v-86932056>Vssue登录会跳到网站首页</li><li class="level-3 toc-link-lastupdated-不会实时更新" data-v-86932056>lastUpdated 不会实时更新</li><li class="level-3 toc-link-配置首页的标签页标题" data-v-86932056>配置首页的标签页标题</li><li class="level-3 toc-link-github-actions-自动部署" data-v-86932056>Github Actions 自动部署</li><li class="level-3 toc-link-giscus评论" data-v-86932056>giscus评论</li></ul></div> <div class="search-page" data-v-60b9a85e><span class="search-close"><svg aria-hidden="true" width="34.56" height="34.56" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:2.16em;"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/></svg></span> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="menu-btn-container" data-v-413dbfb4 data-v-60b9a85e><div class="menu-btn-wrapper" data-v-413dbfb4><div class="menu-btn" data-v-413dbfb4><div class="menu-btn-icon" style="display:;" data-v-413dbfb4><span data-v-413dbfb4></span> <span data-v-413dbfb4></span> <span data-v-413dbfb4></span></div> <div class="menu-text" style="display:none;" data-v-413dbfb4>
        0
      </div> <svg class="menu-svg" data-v-413dbfb4><circle cx="50%" cy="50%" r="48%" class="menu-border" style="stroke-dasharray:0% 314.15926%;" data-v-413dbfb4></circle></svg></div> <div class="menu-btn-child-wrapper" data-v-413dbfb4><a role="button" aria-label="Toggle dark" title="Toggle dark" class="toggle-mode menu-btn-child" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-1.6 -1.6 19.2 19.2" fill="currentColor" class="ov-icon" style="font-size:1.2em;"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2A.5.5 0 018 0zm0 13a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2A.5.5 0 018 13zm8-5a.5.5 0 01-.5.5h-2a.5.5 0 010-1h2a.5.5 0 01.5.5zM3 8a.5.5 0 01-.5.5h-2a.5.5 0 010-1h2A.5.5 0 013 8zm10.657-5.657a.5.5 0 010 .707l-1.414 1.415a.5.5 0 11-.707-.708l1.414-1.414a.5.5 0 01.707 0zm-9.193 9.193a.5.5 0 010 .707L3.05 13.657a.5.5 0 01-.707-.707l1.414-1.414a.5.5 0 01.707 0zm9.193 2.121a.5.5 0 01-.707 0l-1.414-1.414a.5.5 0 01.707-.707l1.414 1.414a.5.5 0 010 .707zM4.464 4.465a.5.5 0 01-.707 0L2.343 3.05a.5.5 0 11.707-.707l1.414 1.414a.5.5 0 010 .708z"/></svg></a> <div class="menu-btn-child" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/></svg></div> <div class="menu-btn-child" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-75.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"/></svg></div> <div class="menu-btn-child menu-toc-btn" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-43.52 -43.52 599.04 599.04" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M48 48a48 48 0 1048 48 48 48 0 00-48-48zm0 160a48 48 0 1048 48 48 48 0 00-48-48zm0 160a48 48 0 1048 48 48 48 0 00-48-48zm448 16H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16z"/></svg></div> <div class="menu-btn-child menu-btn-sidebar" data-v-413dbfb4><svg aria-hidden="true" width="19.2" height="19.2" viewBox="-1.6 -1.6 19.2 19.2" fill="currentColor" class="ov-icon" style="font-size:1.2em;" data-v-413dbfb4><path d="M14 2a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1V3a1 1 0 011-1h12zM2 1a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V3a2 2 0 00-2-2H2z"/><path d="M3 4a1 1 0 011-1h2a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V4z"/></svg></div></div></div></div> <div class="footer-wrapper footer" data-v-2f609db5 data-v-60b9a85e><span data-v-2f609db5>
      &copy; <a href="https://github.com/C01day" target="_blank">C01day</a> 2021-2023
      <br>
      Powered by <a href="https://vuepress.vuejs.org" target="_blank">VuePress</a> &
      <a href="https://github.com/Renovamen/vuepress-theme-gungnir" target="_blank">Gungnir</a>
      <br>
      <a href="https://beian.miit.gov.cn/" target="_blank">赣ICP备2023002564号-1</a>
    </span></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.964d3195.js" defer></script><script src="/assets/js/10.088ffbb3.js" defer></script><script src="/assets/js/1.b1527a9c.js" defer></script><script src="/assets/js/2.f689be52.js" defer></script><script src="/assets/js/25.fabbcb0c.js" defer></script><script src="/assets/js/14.30e23d2c.js" defer></script>
  </body>
</html>
